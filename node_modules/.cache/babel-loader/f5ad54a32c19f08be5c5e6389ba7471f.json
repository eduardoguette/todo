{"ast":null,"code":"var _jsxFileName = \"/Users/eduardoguette/Documents/Projects/todo/src/pages/TodoApp.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, memo } from \"react\";\nimport { createTodo, deleteTodo, getTodos, updateTodo } from \"../services\"; // import { todoReducer } from \"../todoReducer\";\n\nimport { Footer } from \"../components/Footer\";\nimport { Header } from \"../components/Header\";\nimport { TodoList } from \"../components/TodoList\";\nimport { ActualDate } from \"../components/ActualDate\";\nimport { UserContext } from \"../services/useContext\";\n/* const init = () => {\r\n  return getTodos().then((elem) => {\r\n    return elem;\r\n  });\r\n  // return JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n}; */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const TodoApp = /*#__PURE__*/memo(_c = _s(() => {\n  _s();\n\n  const {\n    session,\n    setSession\n  } = useContext(UserContext); // const [todos, dispatch] = useReducer(todoReducer, [], init);\n  // eslint-disable-next-line\n\n  useEffect(() => {\n    if (!session.data) {\n      getTodos().then(resp => {\n        const [data] = resp;\n        console.log(data);\n        setSession({ ...session,\n          data: data,\n          loading: false\n        });\n      });\n    } // localStorage.setItem(\"todos\", JSON.stringify(todos));\n\n  }, [session, setSession]);\n\n  const handleDoneTodo = toDo => {\n    updateTodo({\n      done: !toDo.done,\n      doing: false\n    }, {\n      id: toDo.id\n    }).then(data => {\n      getTodos().then(elem => {\n        const [todos] = elem;\n        setSession({ ...session,\n          data: todos\n        });\n      });\n    });\n    /* dispatch({\r\n      type: \"done\",\r\n      payload: toDo,\r\n    }); */\n  };\n\n  const handleDoingTodo = toDo => {\n    setSession({ ...session,\n      loading: true\n    });\n    updateTodo({\n      doing: true,\n      done: false\n    }, {\n      id: toDo.id\n    }).then(data => {\n      getTodos().then(elem => {\n        const [todos] = elem;\n        setSession({ ...session,\n          data: todos,\n          loading: false\n        });\n      });\n    });\n    /* dispatch({\r\n      type: \"doing\",\r\n      payload: todoId,\r\n    }); */\n  };\n\n  const handleAddTodo = newTodo => {\n    setSession({ ...session,\n      loading: true\n    });\n    createTodo(newTodo).then(data => {\n      const [resp] = data;\n      const [todo] = resp;\n      setSession({ ...session,\n        loading: false,\n        data: [...session.data, todo]\n      });\n    });\n  };\n\n  const handleDeleteTodo = todoId => {\n    setSession({ ...session,\n      loading: true\n    });\n    deleteTodo({\n      id: todoId\n    }).then(data => {\n      getTodos().then(elem => {\n        const [todos] = elem;\n        setSession({ ...session,\n          loading: false,\n          data: todos\n        });\n      });\n    });\n    /*  dispatch({\r\n      type: \"delete\",\r\n      payload: todoId,\r\n    }); */\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-midnight-500 relative mx-auto\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper-1000 mx-auto px-6 min-h-80 pb-5\",\n        children: [/*#__PURE__*/_jsxDEV(ActualDate, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), session.data && /*#__PURE__*/_jsxDEV(TodoList, {\n          handleDeleteTodo: handleDeleteTodo,\n          handleDoneTodo: handleDoneTodo,\n          handleAddTodo: handleAddTodo,\n          handleDoingTodo: handleDoingTodo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"7QsmnOrV6qNf8jKt6Ph9bQhDc90=\"));\n_c2 = TodoApp;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TodoApp$memo\");\n$RefreshReg$(_c2, \"TodoApp\");","map":{"version":3,"sources":["/Users/eduardoguette/Documents/Projects/todo/src/pages/TodoApp.jsx"],"names":["React","useContext","useEffect","memo","createTodo","deleteTodo","getTodos","updateTodo","Footer","Header","TodoList","ActualDate","UserContext","TodoApp","session","setSession","data","then","resp","console","log","loading","handleDoneTodo","toDo","done","doing","id","elem","todos","handleDoingTodo","handleAddTodo","newTodo","todo","handleDeleteTodo","todoId"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, memo } from \"react\";\r\nimport { createTodo, deleteTodo, getTodos, updateTodo } from \"../services\";\r\n// import { todoReducer } from \"../todoReducer\";\r\nimport { Footer } from \"../components/Footer\";\r\nimport { Header } from \"../components/Header\";\r\nimport { TodoList } from \"../components/TodoList\";\r\nimport { ActualDate } from \"../components/ActualDate\";\r\nimport { UserContext } from \"../services/useContext\";\r\n\r\n/* const init = () => {\r\n  return getTodos().then((elem) => {\r\n    return elem;\r\n  });\r\n  // return JSON.parse(localStorage.getItem(\"todos\")) || [];\r\n}; */\r\n\r\nexport const TodoApp = memo(() => {\r\n  const { session, setSession } = useContext(UserContext);\r\n  // const [todos, dispatch] = useReducer(todoReducer, [], init);\r\n  // eslint-disable-next-line\r\n  useEffect(() => {\r\n    if (!session.data) {\r\n      getTodos().then((resp) => {\r\n        const [data] = resp;\r\n        console.log(data);\r\n        setSession({\r\n          ...session,\r\n          data: data,\r\n          loading: false,\r\n        });\r\n      });\r\n    }\r\n    // localStorage.setItem(\"todos\", JSON.stringify(todos));\r\n  }, [session, setSession]);\r\n\r\n  const handleDoneTodo = (toDo) => {\r\n    updateTodo({ done: !toDo.done, doing: false }, { id: toDo.id }).then(\r\n      (data) => {\r\n        getTodos().then((elem) => {\r\n          const [todos] = elem;\r\n          setSession({\r\n            ...session,\r\n            data: todos,\r\n          });\r\n        });\r\n      }\r\n    );\r\n    /* dispatch({\r\n      type: \"done\",\r\n      payload: toDo,\r\n    }); */\r\n  };\r\n  const handleDoingTodo = (toDo) => {\r\n    setSession({\r\n      ...session,\r\n      loading: true,\r\n    });\r\n    updateTodo({ doing: true, done: false }, { id: toDo.id }).then((data) => {\r\n      getTodos().then((elem) => {\r\n        const [todos] = elem;\r\n        setSession({\r\n          ...session,\r\n          data: todos,\r\n          loading: false,\r\n        });\r\n      });\r\n    });\r\n    /* dispatch({\r\n      type: \"doing\",\r\n      payload: todoId,\r\n    }); */\r\n  };\r\n  const handleAddTodo = (newTodo) => {\r\n    setSession({\r\n      ...session,\r\n      loading: true,\r\n    });\r\n\r\n    createTodo(newTodo).then((data) => {\r\n      const [resp] = data;\r\n      const [todo] = resp;\r\n      setSession({\r\n        ...session,\r\n        loading: false,\r\n        data: [...session.data, todo],\r\n      });\r\n    });\r\n  };\r\n  const handleDeleteTodo = (todoId) => {\r\n    setSession({\r\n      ...session,\r\n      loading: true,\r\n    });\r\n    deleteTodo({ id: todoId }).then((data) => {\r\n      getTodos().then((elem) => {\r\n        const [todos] = elem;\r\n        setSession({\r\n          ...session,\r\n          loading: false,\r\n          data: todos,\r\n        });\r\n      });\r\n    });\r\n    /*  dispatch({\r\n      type: \"delete\",\r\n      payload: todoId,\r\n    }); */\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"text-midnight-500 relative mx-auto\">\r\n        <Header />\r\n        <div className=\"wrapper-1000 mx-auto px-6 min-h-80 pb-5\">\r\n          <ActualDate />\r\n          {session.data && (\r\n            <TodoList\r\n              handleDeleteTodo={handleDeleteTodo}\r\n              handleDoneTodo={handleDoneTodo}\r\n              handleAddTodo={handleAddTodo}\r\n              handleDoingTodo={handleDoingTodo}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </>\r\n  );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}